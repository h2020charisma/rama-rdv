tasks:
  - source: tasks/load_spectra.py
    product: 
      nb: "products/load_spectra.ipynb"
      data: "products/twinning_spectra_table.h5"
    params:
      root_data_folder: "{{root_twinning}}"
      files_spectra_reference: "{{files_spectra_reference}}"
      files_spectra_twinned: "{{files_spectra_twinned}}"
  
  - source: tasks/twinning_normalize.py
    product: 
      nb: "products/twinning_normalize.ipynb"
      data: "products/twinning_spectra_table_normalized.h5"
    params:
      root_data_folder: "{{root_led}}"
      probe: "Probe"

  - source: tasks/twinning_intensity_normalization.py
    product: 
      nb: "products/twinning_intensity_normalization.ipynb"
      data: "products/twinning_spectra_table_corrected.h5"
    params:
      root_data_folder: "{{root_led}}"
      files_led_reference: "{{files_led_reference}}"      
      files_led_twinned: "{{files_led_twinned}}"   
      files_spectra_reference: "{{files_spectra_reference}}"
      files_spectra_twinned: "{{files_spectra_twinned}}"      
      probe: "Probe"
      wavelength: 785

  - source: tasks/twinning_plot.py
    product: 
      nb: "products/twinning_plot.ipynb"
    params:
      probe: "Probe"      

  - source: tasks/twinning_peaks.py
    product: 
      nb: "products/twinning_peaks.ipynb"
      data: "products/twinning_spectra_table_harmonized.h5"
    params:
      probe: "Probe"  
      